 @page "/listing/create/discount/{ID}"
@model AMMasterProject.Pages.Listing.create.discountModel
@{
 Layout = "/Pages/Shared/_layoutAdmin.cshtml";
    <title class="notranslate" data-translate="listingdetails">

        Listing Details
    </title>
}


   

           







        <div class="row large-form">

            <partial name="/Pages/listing/create/_tab.cshtml" model="@Model.productguid" />

            <div class="col-md-10 l-tabs-content form">
                <a class="skip-btn" href="~/listing/create/related/@Model.productguid">
                <span class="notranslate" data-translate="skip">

                 Skip
                </span>
                   
                </a>
                <h5 class="l-tabs-heading">
                <span class="notranslate" data-translate="discount">

                  Discount
                </span>
                   
                </h5>

                <div class="white-bg paddingtb">
                    <div class="row paddingrf-15 no-margin">
                        <div class=" col-md-3 s-bold">
                        <span class="notranslate" data-translate="enablediscountasalways">
                            Enable Discount as always
                         
                        </span>
                         
                        </div>
                        <div class="col-md-9 no-padding ">

                                 <form method="post" >
                            <!-- Always section -->
                            <div class="checkright">
                                <input type="checkbox" asp-for="@Model.discountselleralways.IsAlways" checked="@Model.discountselleralways.IsAlways" />
                                <label asp-for="@Model.discountselleralways.IsAlways">Is Always</label>



                             

                            </div>
                            <div class=" paddingtb-15">
                         
                                <div id="dvIsAlways" class="row">
                                <div class="col-md-5 form-group">
                                        <span class="notranslate" data-translate="enablediscountasalways">
                                           
                                            Select Type
                                        </span>
                               
                            
                                <select asp-for="@Model.discountselleralways.DiscountType" class="form-control">
                                    <option disabled selected>-- Select --</option>
                                    <option>Value</option>
                                    <option>Percentage</option>
                                </select>

                                <span asp-validation-for="@Model.discountselleralways.DiscountType" class="required"></span>
                                </div>
                                <div class="col-md-5 form-group">
                                        <span class="notranslate" data-translate="value">

                                            Value  
                                        </span>

                                  
                                    <input type="number" min="1" asp-for="@Model.discountselleralways.DiscountAmount" id="price">

                                    <span asp-validation-for="@Model.discountselleralways.DiscountAmount" class="required"></span>

                                </div>
                               
                            </div>
                   <div class="row">
                   
                  
                            <div class="form-group col-md-2">

                                    <button type="submit" class="w-100" asp-page-handler="Always">

                                        <span class="notranslate" data-translate="save">   Save  </span>
                                    </button>

                                   @*  <input type="submit"  value="Save"  /> *@
                            </div>
                                </div>
                            </div>

                        </form>
                     

                    </div>   
                </div>
                <hr />
                <div class="row paddingrf-15 no-margin">
                    <div class=" col-md-3 s-bold">
                        <span class="notranslate" data-translate="selectcustomdate">

                              Select Custom Date
                        </span>

                   
                    </div>
                    <div class="col-md-9">
                        <!-- Custom section -->
                
                        <form method="post" asp-page-handler="Custom">

                            <div class="row">

                       
                            <div class="col-md-4 form-group">
                                    <span class="notranslate" data-translate="startdate">

                                        Start Date    
                                    </span>
                              
                                <input type="date" asp-for="@Model.discountsellercustom.DiscountStartDate">

                            </div>
                                <div class="col-md-4 form-group">
                                    <span class="notranslate" data-translate="enddate">

                                        End Date  
                                    </span>
                        
                                <input type="date" asp-for="@Model.discountsellercustom.DiscountEndDate">

                       </div>
                                <div class="col-md-4 form-group">
                                    <span class="notranslate" data-translate="type">

                                        Type   
                                    </span>
                             
                                <select asp-for="@Model.discountsellercustom.DiscountType" class="form-control">
                                    <option disabled selected>-- Select --</option>
                                    <option data-translate="value">Value</option>
                                        <option data-translate="percentage">Percentage</option>
                                </select>
                                <span asp-validation-for="@Model.discountsellercustom.DiscountType" class="required"></span>

                          </div>
                                <div class="col-md-4 form-group">
                                    <span class="notranslate" data-translate="value">

                                       Value
                                    </span>
                                <input type="text" min="0" asp-for="@Model.discountsellercustom.DiscountAmount" id="price">

                                <span asp-validation-for="@Model.discountsellercustom.DiscountAmount" class="required"></span>

                          </div>

                                <div class="col-md-2 form-group">
          <br/>
                                    <button type="submit">

                                        <span class="notranslate" data-translate="save">   Save  </span>
                                    </button>
                             
      </div>

                            </div>

                        </form>
                    </div>
                </div>
                <hr/>
                <h5 class="padding10">
                    Custom Date History
                </h5>
                <div class="table-responsive text-nowrap border">
                    <table id="ListingLoad" class="table dataTable no-footer">
                        <thead class="table-secondary">
                        <tr>
                            <td>
                                Start Date
                            </td><td>
                                End Date
                            </td>
                            <td>
                               Type
                            </td> <td>
                               Value
                            </td>
                        </tr>
                    </thead>
                    <tbody>
                        
                            @foreach (var item in Model.discountsellercustomlist)

                            {

                                <tr>
                                    <td>
                                        @item.DiscountStartDate
                                    </td>
                                    <td>
                                        @item.DiscountEndDate
                                    </td>
                                    <td>
                                        @item.DiscountType
                                    </td>
                                    <td>
                                        @item.DiscountAmount
                                    </td>
                                </tr>

                          
                              
                            }
                    </tbody>
                    </table>
                </div>
              

                
        </div>
    </div>
    </div>


 

<script>
    $(document).ready(function () {
        // Initial state on page load
        toggleIsAlwaysDiv();

        // Handle checkbox change event
            $("#discountselleralways_IsAlways").change(function () {
            toggleIsAlwaysDiv();
        });
    });

    function toggleIsAlwaysDiv() {
        // Get the checkbox state
            var isAlwaysChecked = $("#discountselleralways_IsAlways").prop("checked");

        // Toggle the visibility of the div based on the checkbox state
        if (isAlwaysChecked) {
            $("#dvIsAlways").show();
        } else {
            $("#dvIsAlways").hide();
        }
    }
</script>