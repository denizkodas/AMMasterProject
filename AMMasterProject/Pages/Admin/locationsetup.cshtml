@page
@model AMMasterProject.Pages.Admin.locationsetupModel
@{
    <title>Location Details</title>
    Layout = "/Pages/Shared/_layoutAdmin.cshtml";
}

<form method="post">

    <input asp-for="@Model.Address.AddressGUID" type="hidden" />
    <input asp-for="@Model.Address.AddressID" type="hidden" />
<div class="card">
    <div class="form card-body">



        <div class="row">
            <div >

<div class="row">

                        <div class="col-md-2 form-group">
                            Store Type
                        <select asp-for="@Model.Address.Type">

                            <option disabled selected>--Select--</option>
                            <option>Branches</option>
                            <option>Franchise</option>
                            <option>
                                Services Location
                            </option>

                        </select>

                        <span asp-validation-for="@Model.Address.Type" class="required"></span>

                    </div>
                        <div class="col-md-2 form-group">
                            Store Name
                            <input  type="text" maxlength="300"  asp-for="@Model.Address.StoreName">
                            <span asp-validation-for="@Model.Address.StoreName" class="required field-validation-valid" ></span>
    
                        
                        </div>

                        <div class="col-md-2 form-group">
                            Store Contact Number
                            <input type="text" asp-for="@Model.Address.ContactNumber">
                            <span asp-validation-for="@Model.Address.ContactNumber" class="required field-validation-valid"></span>



                        </div>

                        <div class="col-md-2 form-group">
                            Store Email
                            <input type="text" asp-for="@Model.Address.Email">
                            <span asp-validation-for="@Model.Address.Email" class="required field-validation-valid" ></span>



                        </div>


                        <div class="col-md-7 form-group">
                            Store Location
                    <div class="input-group">
                                <span class="input-group-addon" id="basic-addon11">
                                    <a class="acurrentlocation">

                                        <svg class="svg-small" viewBox="0 0 512 512"><path d="M256 0c17.7 0 32 14.3 32 32V66.7C368.4 80.1 431.9 143.6 445.3 224H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H445.3C431.9 368.4 368.4 431.9 288 445.3V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V445.3C143.6 431.9 80.1 368.4 66.7 288H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H66.7C80.1 143.6 143.6 80.1 224 66.7V32c0-17.7 14.3-32 32-32zM128 256a128 128 0 1 0 256 0 128 128 0 1 0 -256 0zm128-80a80 80 0 1 1 0 160 80 80 0 1 1 0-160z" /></svg>

                                    </a>
                                </span>
     
                        <input id="txtaddress" type="text" style="width:90%" maxlength="300" class="googleaddress" asp-for="@Model.Address.Address">
                            </div>  <span asp-validation-for="@Model.Address.Address" class="required"></span>

                        </div>







                        <div class="col-md-2 paddingtb-15 form-group">
                            <button type="submit" class="btn btn-primary clickable-button me-2">Save</button>
                
                </div>
</div>




            </div>
        </div>
    </div>
    <hr/>
    <div class="margintb-15">
        <div class="table-responsive text-nowrap">
            <table id="ListingLoad" class="table">
                <thead class="table-secondary">
                    <tr>



                        <th style="width:150px">Name</th>
                        <th style="width:150px" class="text-center">Type</th>
                        <th style="width:100px" class="text-center">Contact</th>
                       
                       
                        <th style="width:60px" class="text-center">Actions</th>
                    </tr>
                </thead>
                <tbody class="table-border-bottom-0">

                    @*     Loop start*@

                    @if (Model.listAddress != null)
                        {
                            @foreach (var item in Model.listAddress)
                            {
                                <tr>



                                    <td >
                                        <span class="marginrf-15">
                                            @item.StoreName
                                        </span><br />
                                
                                      <i class=" bx bx-map small"></i> @item.Address
                                    </td>
                                    <td class="text-center">
                                        @item.Type
                                    </td>
                                    <td class="text-center">
                                        @item.ContactNumber
                                    </td>
                                

                                    <td class="center">
                                        <div class="dropdown">
                                            <button type="button" class="btn p-0 dropdown-toggle hide-arrow" data-bs-toggle="dropdown">
                                                <i class="bx bx-dots-vertical-rounded"></i>
                                            </button>
                                            <div class="dropdown-menu">
                                                <a class="dropdown-item" href="/admin/locationsetup?AddressGUID=@item.AddressGUID"><i class="bx bx-edit-alt me-1"></i> Edit</a>

                           
                                                  <a href="#@item.AddressGUID" class="dropdown-item"> <i class="bx bx-trash"></i> Delete  </a>
                      

                                
                                        </div>  
                                        </div>
                                          <div class="overlay" id="@item.AddressGUID">
                                            <div class="popup-small popup ">
                                                <div class="padding30 left">
                                                    <h4 class="no-margin">
                                                        Confirm Delete
                                                    </h4>

                                                    <p class="medium">
                                                        Are you sure you want to delete this record ?
                                                    </p>

                                                    <a class="btn grey-bg white-c float-end margin5" href="#close">No</a>

 <button class="btn theme-bg f-theme float-end margin5" formnovalidate asp-page-handler="Delete" asp-route-id="@item.AddressGUID"  > Yes </button>
                                                       
                                    <br/>
                                     <br/>
                                                 </div>  
                                          </div>  
                                   </div>
                                    </td>
                                </tr>
                  
                            }

                            @*     Loop End*@

                        }
                    </tbody>
            </table>
        </div>
    </div>
</div>

</form>
<script>
    ///load address auto complete
    $(document).ready(function () {
        setTimeout(function () {
            // Your jQuery function code goes here
            // This code will execute after a delay of 5 seconds

            LoadGoogleAutoComplete();




        }, 2000);
    });


    

</script>